<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <title>mouse move</title>
  <link rel="stylesheet" href="./style.css">

</head>
<body>
<!-- partial:index.partial.html -->
<canvas></canvas>

<script id="fragment-shader" type="x-shader/x-fragment">
#ifdef GL_ES
  precision mediump float;
#endif

uniform vec2 u_resolution;
uniform vec2 u_mouse;
uniform float u_time;

float speed=1.;
float n=2.0;

float blob(float x,float y,float fx,float fy){
   float xx = x+sin(u_time/speed*abs(u_mouse.x/ u_resolution.x-0.5)+fx)*.7;
   float yy = y+cos(u_time/speed*abs(u_mouse.x/ u_resolution.x-0.5)+fy)*.7;
   float value=sqrt(xx*xx+yy*yy);

   return 20.0/value;
}

void main() {
   vec2 position = ( gl_FragCoord.xy / u_resolution.xy )-0.5;
   position*=u_resolution.y/u_resolution.x;
   float x = position.x*2.0;
   float y = position.y*2.0;
   float mouseX=abs(u_mouse.x/ u_resolution.x-0.5);
   float a = blob(x,y,mouseX*1.+1.,3.9-mouseX) + blob(x,y,mouseX*5.+1.,3.9+mouseX);
   float b = blob(x,y,mouseX*2.2+1.,3.9-2.*mouseX) + blob(x,y,mouseX*6.+1.,3.9-mouseX);
   float c = blob(x,y,1.-mouseX*1.,3.9-3.*mouseX) + blob(x,y,mouseX*7.+1.,3.9+2.*mouseX);
   
   vec3 d = 2.-vec3(a,b,c)/60.;
    
   gl_FragColor = vec4(d.x,d.y,d.z,1.0);
}
</script>

<script id="vertex-shader" type="x-shader/x-vertex">
attribute vec2 a_position;

void main() {
  gl_Position = vec4( a_position, 0, 1 );
}
</script>
<!-- partial -->
  <script  src="./script.js"></script>

</body>
</html>
